const n=()=>`${"/".replace(/\/$/,"")}/service-worker.js`;function i(){if(!("serviceWorker"in navigator))return;const t=n();navigator.serviceWorker.register(t).then(e=>{e&&e.addEventListener("updatefound",()=>{const r=e.installing;r&&r.addEventListener("statechange",()=>{r.state==="installed"&&navigator.serviceWorker.controller&&typeof window<"u"&&window.dispatchEvent(new CustomEvent("sw:updated"))})})}).catch(()=>{})}export{i as register};
