import{r as e}from"./index-wt-_MYqn.js";import{addToolbarButton as E,PLUGIN_CAPTIONS as h,createModule as g,makeUseContext as _,useLightboxProps as d,IconButton as T,createIcon as P,createIconDisabled as y,useController as H,clsx as b,cssClass as I,cssVar as u,translateLabel as M}from"./index-BxeAEGL9.js";import"./vendor-D7TlRgpv.js";const l=t=>I(`slide_${t}`),m={descriptionTextAlign:"start",descriptionMaxLines:3,showToggle:!1,hidden:!1},C=t=>({...m,...t});function L(){const{captions:t}=d();return C(t)}const f=e.createContext(null),v=_("useCaptions","CaptionsContext",f);function k({captions:t,children:i}){const{ref:o,hidden:n}=C(t),[r,a]=e.useState(!n),s=e.useMemo(()=>({visible:r,show:()=>a(!0),hide:()=>a(!1)}),[r]);return e.useImperativeHandle(o,()=>s,[s]),e.createElement(f.Provider,{value:s},i)}function w({title:t}){const{toolbarWidth:i}=H(),{styles:o}=d(),{visible:n}=v();return n?e.createElement("div",{role:"heading","aria-level":2,style:o.captionsTitleContainer,className:b(l("captions_container"),l("title_container"))},e.createElement("div",{className:l("title"),style:{...i?{[u("toolbar_width")]:`${i}px`}:null,...o.captionsTitle}},t)):null}function N({description:t}){const{descriptionTextAlign:i,descriptionMaxLines:o}=L(),{styles:n,labels:r}=d(),{visible:a}=v();return a?e.createElement("div",{style:n.captionsDescriptionContainer,className:b(l("captions_container"),l("description_container"))},e.createElement("div",{className:l("description"),style:{...i!==m.descriptionTextAlign||o!==m.descriptionMaxLines?{[u("slide_description_text_align")]:i,[u("slide_description_max_lines")]:o}:null,...n.captionsDescription},role:"paragraph","aria-roledescription":M(r,"Caption")},typeof t=="string"?t.split(`
`).flatMap((s,c)=>[...c>0?[e.createElement("br",{key:c})]:[],s]):t)):null}const x=()=>e.createElement(e.Fragment,null,e.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),e.createElement("path",{d:"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z"})),V=P("CaptionsVisible",x()),A=y("CaptionsVisible",x());function D(){const{visible:t,show:i,hide:o}=v(),{render:n}=d();return n.buttonCaptions?e.createElement(e.Fragment,null,n.buttonCaptions({visible:t,show:i,hide:o})):e.createElement(T,{label:t?"Hide captions":"Show captions",icon:t?V:A,renderIcon:t?n.iconCaptionsVisible:n.iconCaptionsHidden,onClick:t?o:i})}function S({augment:t,addModule:i}){t(({captions:o,render:{slideFooter:n,...r},toolbar:a,...s})=>{const c=C(o);return{render:{slideFooter:({slide:p})=>e.createElement(e.Fragment,null,n?.({slide:p}),p.title&&e.createElement(w,{title:p.title}),p.description&&e.createElement(N,{description:p.description})),...r},toolbar:E(a,h,c.showToggle?e.createElement(D,null):null),captions:c,...s}}),i(g(h,k))}export{S as default};
